<? directive dynamic rlmap;?>
<?
	layout("/inc/layout.html",{title:'知识服务平台后台管理系统'}){
?>
<style>
    .warnText{margin-left: 15px;color: #dd4b39;}
</style>
<script  type="text/javascript"  src="../page/systemmanager/js/add_data.js"> </script>
<input type="hidden" id="checkname">
<input type="hidden" id="treeids">

  <div id="languagebox" style="display: none;">				
					<div class="form-group input_block">
					<label class="input_name" style="width: 20%">
					<b style="color: #FF0000;margin-right: 5px;">*</b>语种名称:
					</label>
					<b style="color: #FF0000;margin-right: 5px;">
					<input id="languagename" class="form-control input_width"  placeholder="请输入..." type="text">
					</b>
					</div>
					<div class="form-group input_block">
					<label class="input_name" style="width: 20%">
					<b style="color: #FF0000;margin-right: 5px;">*</b>语种Code:
					</label>
					<b style="color: #FF0000;margin-right: 5px;">
					<input id="languagecode" class="form-control input_width"  placeholder="请输入..." type="text">
					</b>
					</div>											
				</div>
	
	<div id="sourcebox" style="display: none;">				
					<div class="form-group input_block">
					<label class="input_name" style="width: 20%">
					<b style="color: #FF0000;margin-right: 5px;">*</b>来源名称:
					</label>
					<b style="color: #FF0000;margin-right: 5px;">
					<input id="sourcename" class="form-control input_width"  placeholder="请输入..." type="text">
					</b>
					</div>
					<div class="form-group input_block">
					<label class="input_name" style="width: 20%">
					<b style="color: #FF0000;margin-right: 5px;">*</b>来源code:
					</label>
					<b style="color: #FF0000;margin-right: 5px;">
					<input id="sourcecode" class="form-control input_width"  placeholder="请输入..." type="text">
					</b>
					</div>											
				</div>
  <!-- Content Wrapper. Contains page content -->
  <div class="content-wrapper">
    <!-- Content Header (Page header) -->
    <section class="content-header">
      <h1>
       	数据库添加
      </h1>
      <ol class="breadcrumb">
        <li><a href="#"><i class="fa fa-dashboard"></i>首页</a></li>
        <li><a href="#">用户管理</a></li>
        <li class="active">数据库管理</li>
      </ol>
    </section>

    <!-- Main content -->
    <section class="content">
      <div class="row">
        <!-- left column -->
        <div class="col-md-6">
          <!-- general form elements -->
          <div class="box box-primary">
          <form >
				<div class="form-group input_block">
                  <label for="exampleInputEmail1" class="input_name"><span style="color: red">*</span>数据库名称：</label>
                  <input type="text" id="dataname" class="form-control input_width" onblur="checkDname(this.value)"><span id="checkdname" class="warnText"></span>
                </div>
                <div class="form-group input_block">
                  <label for="exampleInputEmail1" class="input_name">数据库简称：</label>
                  <input type="text" id="abbreviation" class="form-control input_width">
                </div>
                <div class="form-group input_block">
                  <label for="exampleInputEmail1" class="input_name"><span style="color: red">*</span>数据库Code：</label>
                  <input type="text" id="prouct_source_code" class="form-control input_width" onblur="checkDname(this.value)"><span id="checkdname" class="warnText"></span>
                </div>
      			 <div class="form-group input_block">
                  <label for="exampleInputEmail1" class="input_name"  >数据库描述：</label>
                  <textarea  id="datadescribe"  class="form-control input_width" ></textarea>
                </div>
                 <div class="form-group input_block">
                  <label for="exampleInputEmail1" class="input_name">资源类型：</label>
                  <input type="checkbox"  name="" id="checkalltype" onclick="checktype()" value="">全选&nbsp;&nbsp;&nbsp;
                 	<?for(var a in rlmap.resourcetype){?>
                   <input type="checkbox"  name="resourcetype" id="" value="${a.typeCode}">${a.typeName}&nbsp;&nbsp;&nbsp;
        		<?}?>
                </div>
                  <div class="form-group input_block">
                  <label for="exampleInputEmail1"  class="input_name">语种：</label>
                  <span id="language">
                   <input type="checkbox"  name="" id="checkalllanguage" onclick="checklanguage()" >全选&nbsp;&nbsp;&nbsp;
                   <?for(var b in rlmap.language){?>
                   <input type="checkbox"  name="languagenames" id=""  value="${b.languageCode}">${b.languageName}&nbsp;&nbsp;&nbsp;
        			<?}?>
                  </span>
        			<a onclick="addlanguage()" >添加语种</a>
                </div>
                  <div class="form-group input_block">
                  <label for="exampleInputEmail1" class="input_name">数据库来源：</label>
                  <input type="checkbox"  name="" id="checkallsource" onclick="checksource()" value="">全选&nbsp;&nbsp;&nbsp;
                  <span id="source">
                   <?for(var c in rlmap.dbsource){?>
                   <input type="checkbox"  name="sourcenames" id=""  value="${c.dbSourceCode}">${c.dbSourceName}&nbsp;&nbsp;&nbsp;
        			<?}?>
        			</span>
        			<a onclick="addsource()">添加来源</a>
                </div>
                <div class="form-group input_block">
                  <label for="exampleInputEmail1" class="input_name">数据库类型：</label>
                  <select id="dbtype">
                  <option selected="selected">万方数据库</option>
                  <option>合作数据库</option>
                  </select>
                </div>
                <div class="form-group input_block">
                
                </div>
                 <!-- <div class="form-group input_block">
                  <label for="exampleInputEmail1" class="input_name">学科分类：</label>
                  <ul id="treeDemo" class="ztree"></ul>
                </div> -->
                  <div class="form-group input_block">
                  <label for="exampleInputEmail1" class="input_name">自定义策略：</label>
                  	<button type="button" class="btn btn-primary" onclick="addcontent()">+</button>
                  	<button type="button" class="btn btn-primary" onclick="delcontent()">-</button>
                 	<input type="text" id="i1_0">
                 	<select id="s1_0">
                 	<option selected="selected">精确</option>
                 	<option>模糊</option>
                 	</select id="s2_0">
                 	<input type="text" id="i2_0">
                 	<select id="s2_0">
                 	<option selected="selected">与</option>
                 	<option>或</option>
                 	<option>非</option>
                 	</select>
                </div>
              <div class="form-group input_block">
                  <label for="exampleInputEmail1" class="input_name">自定义图片：</label>
                  <input type="text" id="imgLogoSrc" class="form-control input_width">
                  <span class="warnText"></span>
              </div>
              <div class="form-group input_block">
                  <label for="exampleInputEmail1" class="input_name">链接地址：</label>
                  <input type="text" id="link" class="form-control input_width">
                  <span class="warnText"></span>
              </div>
                <span id="content">

                </span>
              <div class="box-footer" style="text-align:center;">
              <button type="reset" class="btn btn-primary" onclick="resettree()">重置</button>
                <button type="button" onclick="doadddata()" class="btn btn-primary">提交</button>
              </div>
              </form>
            </div>
          </div>
      	 </div>
      </div>
    </section>
  </div>
<?}?>
